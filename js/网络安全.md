# 网络安全
前端常见的网络攻击有两种
# 一、XSS攻击(跨站脚本攻击)
> Cross-Site Scripting（跨站脚本攻击）简称 XSS，是一种代码注入攻击。攻击者通过在目标网站上注入恶意脚本，使之在用户的浏览器上运行。利用这些恶意脚本，攻击者可获取用户的敏感信息如 Cookie、SessionID 等，进而危害数据安全。

根据攻击的来源，XSS 攻击可分为存储型、反射型和 DOM 型三种
##  1.存储型攻击
存储型攻击常发生在微博论坛等用户发帖、提交文章评论等地方

其攻击的方式：
1. 将恶意代码提交到数据库
2. 数据库将其保存
3. 他用户查看帖子或者评论
4. 服务端返回恶意代码并被拼接到客户端页面
5. 恶意代码可能通过自执行或者用户点击执行来弹出广告或者获取用户的cookie等个人隐私并上报到攻击者数据库

## 2.反射型攻击
反射型攻击主要发生在一些带有诱导性的链接的按钮邮件等

其攻击的方式：
1. 攻击者在一些链接的参数中加入恶意代码并诱导用户点击
2. 用户通过点击将请求参数传入服务端
3. 服务端获取参数并拼接返回给客户端
4. 客户端执行恶意代码冒充用户进行权限操作或者盗取用户的cookie等个人隐私并上报攻击者数据库

## 3.DOM型攻击
DOM型和反射性都是通过诱导用户点击链接执行，并且都是临时型的，但是反射型属于服务端安全漏洞而DOM型属于客户端安全漏洞

其攻击的方式：
1. 攻击者构造出特殊的 URL，其中包含恶意代码。
2. 用户打开带有恶意代码的 URL。
3. 用户浏览器接收到响应后解析执行，前端 JavaScript 取出 URL 中的恶意代码并执行。
4. 恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。

# 造成的危害及如何防止
造成的危害有：盗取各类用户帐号、控制企业数据、非法转账、强制发送电子邮件

如何防止：
* 对用户的输入进行过滤／转码、
* 使用 CSP （内容安全策略）让服务器决定浏览器可以加载哪些资源，执行哪些脚本
* HTTP-only Cookie
* 验证码：防止脚本冒充用户提交危险操作
* 尽量避免三方跨域提交内容到服务端

# 二、CSRF攻击（跨站请求伪造）
> CSRF（Cross-site request forgery）跨站请求伪造：攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。

CSRF主要是冒用受害者登录凭证发起恶意的增删改并不会窃取受害者隐私信息，
攻击又分为主动型攻击和被动型攻击
## 1.主动型攻击
攻击方式是：
1. 受害者访问a.com并在自己浏览器留下a.com的登录态
2. 攻击者诱导受害者访问三方网站b.com
3. 三方网站b.com植有访问a.com接口的恶意代码（删除/增加/修改等）
4. 受害者点击b.com时候，b.com带着a.com的登陆凭证冒充受害用户执行对a.com的恶意操作
## 2.被动型攻击
攻击方式是：
1. 攻击者在a.com发布带有恶意链接的帖子或者评论（提交对a.com带有增删改的诱导型img/form/a标签）
2. 当其他拥有登录态的受害者点击该评论的恶意链接冒用受害者登录凭证发起攻击
## 造成的危害及如何防止
造成的危害有：盗取用户信息、非法转账

如何防止：
* 从第三方站点发送请求时，禁止发送 Cookie
* 验证请求的来源站点
* Token验证

## 三、服务器端攻击
服务端的攻击形式有：SQL注入、DNS劫持、DOS攻击

