<!-- toc -->

# 概念

* http：全称超文本传输协议，是一种详细规定客户端与web服务器之间互相通信的规则，通过因特网传送万维网文档的数据传送协议。
* https：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层。

# 区别

|         | http    |  https   |
| ---------    | -----: | :--------:  |
| 传输协议      | 明文传输  |   ssl 加密传输协议    |
| 默认端口       |   80  |   443   |
| 连接        |    连接简单；无状态  |   SSL+HTTP加密传输  |
| 加载时间        |      |   页面加载时间延长 50%，增加 10%~20%的耗电  |

# https的工作原理

1. 客户端发起HTTPS请求
2. 服务端的配置，采用HTTPS协议的服务器必须要有一套数字证书，这套证书其实就是一对公钥和私钥，
3. 传送证书，web 服务器接收到客户端的请求之后，会将网站的证书（证书中包含了公钥），传输给客户端。
4. 客户端解析证书，首先会验证公钥是否有效，如果证书没有问题，那么就生成一个随机值，然后用证书对该随机值进行加密。
5. 传送加密信息，传送的是用证书加密后的随机值，目的就是让服务端得到这个随机值，以后客户端和服务端的通信就可以通过这个随机值来进行加密解密了。
6. 服务段解密信息，服务端用私钥解密后，得到了客户端传过来的随机值(私钥)，然后把内容通过该值进行对称加密，所谓对称加密就是，将信息和私钥通过某种算法混合在一起，这样除非知道私钥，不然无法获取内容，而正好客户端和服务端都知道这个私钥，所以只要加密算法够彪悍，私钥够复杂，数据就够安全。
7. 传输加密后的信息，是服务段用私钥加密后的信息，可以在客户端被还原。
8. 客户端解密信息，客户端用之前生成的私钥解密服务段传过来的信息，于是获取了解密后的内容，整个过程第三方即使监听到了数据，也束手无策。


